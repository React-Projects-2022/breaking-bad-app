"use strict";(self.webpackChunkbasic=self.webpackChunkbasic||[]).push([[145],{1356:function(n,t,i){var r=i(1174),o=i(184);t.Z=function(){return(0,o.jsx)("span",{className:"loading",children:(0,o.jsx)(r.FM,{size:454})})}},640:function(n,t,i){var r=i(184);t.Z=function(n){var t=n.title;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{children:t}),(0,r.jsx)("hr",{})]})}},4132:function(n,t,i){i.d(t,{vz:function(){return l},zx:function(){return u},gb:function(){return r.Z},V1:function(){return c.Z}});var r=i(1356),o=i(4467),e=i(1500);e.kL.register(e.uw,e.f$,e.ZL,e.Dx,e.u,e.De);var a=i(184),l=function(n){var t={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:n.titleChart}}},i={labels:n.labels,datasets:[{label:"Characters",data:n.dataValues,backgroundColor:"rgba(13, 202, 240, 1)"}]};return(0,a.jsx)(o.$Q,{options:t,data:i})},u=function(n){var t=n.label,i=n.param,r=n.action;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("button",{className:"btn btn-info btn-lg btn-block custom-button",onClick:function(){return r(i)},children:t})})},c=i(640)},900:function(n,t,i){i.d(t,{l:function(){return e}});var r,o=i(168),e=(0,i(7570).Ps)(r||(r=(0,o.Z)(["\n  mutation Mutation($character: ID!) {\n    addVote(character: $character) {\n      status\n      message\n    }\n  }\n"])))},9857:function(n,t,i){i.d(t,{P:function(){return l},j:function(){return u}});var r,o,e=i(168),a=i(7570),l=(0,a.Ps)(r||(r=(0,e.Z)(["\n  query PrincipalCharsVotes {\n    characters {\n      id\n      name\n      description\n      portrayed: actor\n      total_episodes\n      votes\n      url\n      img: photo\n    }\n  }\n"]))),u=(0,a.Ps)(o||(o=(0,e.Z)(["\n  query detailsCharacter($id: ID!){\n    character(id: $id) {\n      id\n      total_episodes\n      votes\n      name\n      actor\n      description\n      photo\n      url\n    }\n  }\n"])))},1886:function(n,t,i){i.d(t,{A:function(){return l},W:function(){return u}});var r,o,e=i(168),a=i(7570),l=(0,a.Ps)(r||(r=(0,e.Z)(["\n  subscription {\n    changeVotes {\n      id\n      name\n      votes\n    }\n  }\n"]))),u=(0,a.Ps)(o||(o=(0,e.Z)(["\n    subscription characterVoteCount($id: ID!) {\n        changeVote(id: $id) {\n            id\n            name\n            votes\n        }\n    }\n"])))},5331:function(n,t,i){i.d(t,{g:function(){return r}});var r=function(n){return window.open(n,"_blank")}},2145:function(n,t,i){i.r(t);var r=i(9439),o=i(2791),e=i(6871),a=i(3168),l=i(2336),u=i(4376),c=i(5450),s=i(9857),d=i(900),v=i(1886),f=i(4132),p=i(5331),b=i(184);t.default=function(){var n=(0,a.$)().t,t=(0,o.useState)((0,e.UO)().id),i=(0,r.Z)(t,1)[0],h=(0,o.useState)({}),m=(0,r.Z)(h,2),g=m[0],x=m[1],j=(0,l.a)(s.j,{variables:{id:i}}),k=j.loading,y=j.error,C=j.data,P=(0,u.D)(d.l,{update:function(n,t){console.log(t.data)}}),Z=(0,r.Z)(P,1)[0];(0,c.m)(v.W,{variables:{id:i}}),(0,o.useEffect)((function(){C&&x(C.character)}),[C]);return k?(0,b.jsx)(f.gb,{}):y?(0,b.jsx)("p",{children:"Error :("}):(0,b.jsx)(b.Fragment,{children:g&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.V1,{title:g.name}),(0,b.jsxs)("div",{className:"row",children:[(0,b.jsx)("div",{className:"col-md-5",children:(0,b.jsx)("img",{className:"img-fluid",src:g.photo,alt:"".concat(g.name," profile")})}),(0,b.jsxs)("div",{className:"col-lg",children:[(0,b.jsxs)("h5",{className:"my-3",children:[g.votes," ",n("pages.details.votes")]}),(0,b.jsx)("p",{children:g.description}),(0,b.jsx)(f.zx,{label:"".concat(n("pages.details.vote_lbl")," ").concat(g.name),param:g.id,action:function(n){return Z({variables:{character:n}})}},g.id),"\xa0",(0,b.jsx)(f.zx,{label:n("pages.details.more_info"),param:g.url,action:function(n){return(0,p.g)(n)}},"Wiki_".concat(g.id))]})]})]})})}},4376:function(n,t,i){i.d(t,{D:function(){return s}});var r=i(9388),o=i(2791),e=i(3651),a=i(5970),l=i(2364),u=i(9484),c=i(5046);function s(n,t){var i=(0,c.x)(null===t||void 0===t?void 0:t.client);(0,l.Vp)(n,l.n_.Mutation);var s=(0,o.useState)({called:!1,loading:!1,client:i}),d=s[0],v=s[1],f=(0,o.useRef)({result:d,mutationId:0,isMounted:!0,client:i,mutation:n,options:t});Object.assign(f.current,{client:i,options:t,mutation:n});var p=(0,o.useCallback)((function(n){void 0===n&&(n={});var t=f.current,i=t.client,o=t.options,l=t.mutation,c=(0,r.pi)((0,r.pi)({},o),{mutation:l});f.current.result.loading||c.ignoreResults||v(f.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:i});var s=++f.current.mutationId,d=(0,e.J)(c,n);return i.mutate(d).then((function(t){var r,o,e=t.data,l=t.errors,p=l&&l.length>0?new u.c({graphQLErrors:l}):void 0;if(s===f.current.mutationId&&!d.ignoreResults){var b={called:!0,loading:!1,data:e,error:p,client:i};f.current.isMounted&&!(0,a.D)(f.current.result,b)&&v(f.current.result=b)}return null===(r=c.onCompleted)||void 0===r||r.call(c,t.data),null===(o=n.onCompleted)||void 0===o||o.call(n,t.data),t})).catch((function(t){var r,o;if(s===f.current.mutationId&&f.current.isMounted){var e={loading:!1,error:t,data:void 0,called:!0,client:i};(0,a.D)(f.current.result,e)||v(f.current.result=e)}if(c.onError||d.onError)return null===(r=c.onError)||void 0===r||r.call(c,t),null===(o=n.onError)||void 0===o||o.call(n,t),{data:void 0,errors:t};throw t}))}),[]),b=(0,o.useCallback)((function(){v({called:!1,loading:!1,client:i})}),[]);return(0,o.useEffect)((function(){return function(){f.current.isMounted=!1}}),[]),[p,(0,r.pi)({reset:b},d)]}},5450:function(n,t,i){i.d(t,{m:function(){return l}});i(6260);var r=i(2791),o=i(5970),e=i(2364),a=i(5046);function l(n,t){var i=(0,a.x)(null===t||void 0===t?void 0:t.client);(0,e.Vp)(n,e.n_.Subscription);var l=(0,r.useState)({loading:!(null===t||void 0===t?void 0:t.skip),error:void 0,data:void 0,variables:null===t||void 0===t?void 0:t.variables}),u=l[0],c=l[1],s=(0,r.useState)((function(){return(null===t||void 0===t?void 0:t.skip)?null:i.subscribe({query:n,variables:null===t||void 0===t?void 0:t.variables,fetchPolicy:null===t||void 0===t?void 0:t.fetchPolicy,context:null===t||void 0===t?void 0:t.context})})),d=s[0],v=s[1],f=(0,r.useRef)({client:i,subscription:n,options:t});return(0,r.useEffect)((function(){var r,e,a,l,u=null===t||void 0===t?void 0:t.shouldResubscribe;"function"===typeof u&&(u=!!u(t)),(null===t||void 0===t?void 0:t.skip)&&!(null===t||void 0===t?void 0:t.skip)!==!(null===(r=f.current.options)||void 0===r?void 0:r.skip)?(c({loading:!1,data:void 0,error:void 0,variables:null===t||void 0===t?void 0:t.variables}),v(null)):!1===u||i===f.current.client&&n===f.current.subscription&&(null===t||void 0===t?void 0:t.fetchPolicy)===(null===(e=f.current.options)||void 0===e?void 0:e.fetchPolicy)&&!(null===t||void 0===t?void 0:t.skip)===!(null===(a=f.current.options)||void 0===a?void 0:a.skip)&&(0,o.D)(null===t||void 0===t?void 0:t.variables,null===(l=f.current.options)||void 0===l?void 0:l.variables)||(c({loading:!0,data:void 0,error:void 0,variables:null===t||void 0===t?void 0:t.variables}),v(i.subscribe({query:n,variables:null===t||void 0===t?void 0:t.variables,fetchPolicy:null===t||void 0===t?void 0:t.fetchPolicy,context:null===t||void 0===t?void 0:t.context}))),Object.assign(f.current,{client:i,subscription:n,options:t})}),[i,n,t]),(0,r.useEffect)((function(){if(d){var n=d.subscribe({next:function(n){var r,o,e={loading:!1,data:n.data,error:void 0,variables:null===t||void 0===t?void 0:t.variables};c(e),null===(o=null===(r=f.current.options)||void 0===r?void 0:r.onSubscriptionData)||void 0===o||o.call(r,{client:i,subscriptionData:e})},error:function(n){c({loading:!1,data:void 0,error:n,variables:null===t||void 0===t?void 0:t.variables})},complete:function(){var n,t;null===(t=null===(n=f.current.options)||void 0===n?void 0:n.onSubscriptionComplete)||void 0===t||t.call(n)}});return function(){n.unsubscribe()}}}),[d]),u}}}]);
//# sourceMappingURL=145.936af0d4.chunk.js.map