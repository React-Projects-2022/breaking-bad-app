"use strict";(self.webpackChunkbasic=self.webpackChunkbasic||[]).push([[444],{1356:function(n,t,r){var i=r(1174),e=r(184);t.Z=function(){return(0,e.jsx)("span",{className:"loading",children:(0,e.jsx)(i.FM,{size:454})})}},640:function(n,t,r){var i=r(184);t.Z=function(n){var t=n.title;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{children:t}),(0,i.jsx)("hr",{})]})}},4132:function(n,t,r){r.d(t,{vz:function(){return l},zx:function(){return c},gb:function(){return i.Z},V1:function(){return s.Z}});var i=r(1356),e=r(4467),o=r(1500);o.kL.register(o.uw,o.f$,o.ZL,o.Dx,o.u,o.De);var a=r(184),l=function(n){var t={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:n.titleChart}}},r={labels:n.labels,datasets:[{label:"Characters",data:n.dataValues,backgroundColor:"rgba(13, 202, 240, 1)"}]};return(0,a.jsx)(e.$Q,{options:t,data:r})},c=function(n){var t=n.label,r=n.param,i=n.action;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("button",{className:"btn btn-info btn-lg btn-block custom-button",onClick:function(){return i(r)},children:t})})},s=r(640)},900:function(n,t,r){r.d(t,{l:function(){return o}});var i,e=r(168),o=(0,r(7570).Ps)(i||(i=(0,e.Z)(["\n  mutation Mutation($character: ID!) {\n    addVote(character: $character) {\n      status\n      message\n    }\n  }\n"])))},9857:function(n,t,r){r.d(t,{P:function(){return l},j:function(){return c}});var i,e,o=r(168),a=r(7570),l=(0,a.Ps)(i||(i=(0,o.Z)(["\n  query PrincipalCharsVotes {\n    characters {\n      id\n      name\n      description\n      portrayed: actor\n      total_episodes\n      votes\n      url\n      img: photo\n    }\n  }\n"]))),c=(0,a.Ps)(e||(e=(0,o.Z)(["\n  query detailsCharacter($id: ID!){\n    character(id: $id) {\n      id\n      total_episodes\n      votes\n      name\n      actor\n      description\n      photo\n      url\n    }\n  }\n"])))},1886:function(n,t,r){r.d(t,{A:function(){return l},W:function(){return c}});var i,e,o=r(168),a=r(7570),l=(0,a.Ps)(i||(i=(0,o.Z)(["\n  subscription {\n    changeVotes {\n      id\n      name\n      votes\n    }\n  }\n"]))),c=(0,a.Ps)(e||(e=(0,o.Z)(["\n    subscription characterVoteCount($id: ID!) {\n        changeVote(id: $id) {\n            id\n            name\n            votes\n        }\n    }\n"])))},5444:function(n,t,r){r.r(t);var i=r(9439),e=r(2791),o=r(2336),a=r(4376),l=r(5450),c=r(4132),s=r(9857),u=r(1886),d=r(900),v=r(3504),f=r(3168),b=r(184);t.default=function(){var n=(0,f.$)().t,t=(0,e.useState)([]),r=(0,i.Z)(t,2),p=r[0],h=r[1],m=(0,o.a)(s.P),x=m.loading,g=m.error,j=m.data,k=(0,a.D)(d.l,{update:function(n,t){console.log(t.data)}}),y=(0,i.Z)(k,1)[0];if((0,l.m)(u.A),(0,e.useEffect)((function(){j&&h(j.characters)}),[j]),x)return(0,b.jsx)(c.gb,{});if(g)return(0,b.jsx)("p",{children:"Error :("});var C=[],P=[];x||p.map((function(n){return C.push(n.name),P.push(n.votes),""}));var D=function(n){return y({variables:{character:n}})},Z="pages.votes",V=["".concat(Z,".name"),"".concat(Z,".actor"),"".concat(Z,".info"),"".concat(Z,".total_episodes"),"".concat(Z,".votes"),"".concat(Z,".details")];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.V1,{title:n("title.votes")}),!x&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"row",children:[(0,b.jsx)("div",{className:"col-9",children:(0,b.jsx)(c.vz,{titleChart:n("pages.votes.vote_count_for_chart"),labels:C,dataValues:P})}),(0,b.jsx)("div",{className:"col d-grid gap-2",children:p.map((function(n){return(0,b.jsx)(c.zx,{label:n.name,param:n.id,action:D},n.id)}))})]}),(0,b.jsx)("br",{}),(0,b.jsx)("br",{}),(0,b.jsx)("div",{className:"row",children:(0,b.jsx)("div",{className:"table-responsive",children:(0,b.jsxs)("table",{className:"table",children:[(0,b.jsx)("thead",{children:(0,b.jsx)("tr",{children:V.map((function(t,r){return(0,b.jsx)("th",{className:"text-center",children:n(t)},r)}))})}),(0,b.jsx)("tbody",{children:p.map((function(t){return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:t.name}),(0,b.jsx)("td",{children:t.portrayed}),(0,b.jsx)("td",{children:(0,b.jsx)("a",{href:t.url,target:"_blank",rel:"noreferrer",children:"Wikipedia"})}),(0,b.jsx)("td",{children:t.total_episodes}),(0,b.jsx)("td",{children:t.votes}),(0,b.jsx)("td",{children:(0,b.jsx)(v.OL,{to:"/breaking-bad-app/details/".concat(t.id),className:"btn btn-info btn-lg btn-block custom-button",children:n("".concat(Z,".details"))})})]},t.id)}))})]})})})]})]})}},4376:function(n,t,r){r.d(t,{D:function(){return u}});var i=r(9388),e=r(2791),o=r(3651),a=r(5970),l=r(2364),c=r(9484),s=r(5046);function u(n,t){var r=(0,s.x)(null===t||void 0===t?void 0:t.client);(0,l.Vp)(n,l.n_.Mutation);var u=(0,e.useState)({called:!1,loading:!1,client:r}),d=u[0],v=u[1],f=(0,e.useRef)({result:d,mutationId:0,isMounted:!0,client:r,mutation:n,options:t});Object.assign(f.current,{client:r,options:t,mutation:n});var b=(0,e.useCallback)((function(n){void 0===n&&(n={});var t=f.current,r=t.client,e=t.options,l=t.mutation,s=(0,i.pi)((0,i.pi)({},e),{mutation:l});f.current.result.loading||s.ignoreResults||v(f.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:r});var u=++f.current.mutationId,d=(0,o.J)(s,n);return r.mutate(d).then((function(t){var i,e,o=t.data,l=t.errors,b=l&&l.length>0?new c.c({graphQLErrors:l}):void 0;if(u===f.current.mutationId&&!d.ignoreResults){var p={called:!0,loading:!1,data:o,error:b,client:r};f.current.isMounted&&!(0,a.D)(f.current.result,p)&&v(f.current.result=p)}return null===(i=s.onCompleted)||void 0===i||i.call(s,t.data),null===(e=n.onCompleted)||void 0===e||e.call(n,t.data),t})).catch((function(t){var i,e;if(u===f.current.mutationId&&f.current.isMounted){var o={loading:!1,error:t,data:void 0,called:!0,client:r};(0,a.D)(f.current.result,o)||v(f.current.result=o)}if(s.onError||d.onError)return null===(i=s.onError)||void 0===i||i.call(s,t),null===(e=n.onError)||void 0===e||e.call(n,t),{data:void 0,errors:t};throw t}))}),[]),p=(0,e.useCallback)((function(){v({called:!1,loading:!1,client:r})}),[]);return(0,e.useEffect)((function(){return function(){f.current.isMounted=!1}}),[]),[b,(0,i.pi)({reset:p},d)]}},5450:function(n,t,r){r.d(t,{m:function(){return l}});r(6260);var i=r(2791),e=r(5970),o=r(2364),a=r(5046);function l(n,t){var r=(0,a.x)(null===t||void 0===t?void 0:t.client);(0,o.Vp)(n,o.n_.Subscription);var l=(0,i.useState)({loading:!(null===t||void 0===t?void 0:t.skip),error:void 0,data:void 0,variables:null===t||void 0===t?void 0:t.variables}),c=l[0],s=l[1],u=(0,i.useState)((function(){return(null===t||void 0===t?void 0:t.skip)?null:r.subscribe({query:n,variables:null===t||void 0===t?void 0:t.variables,fetchPolicy:null===t||void 0===t?void 0:t.fetchPolicy,context:null===t||void 0===t?void 0:t.context})})),d=u[0],v=u[1],f=(0,i.useRef)({client:r,subscription:n,options:t});return(0,i.useEffect)((function(){var i,o,a,l,c=null===t||void 0===t?void 0:t.shouldResubscribe;"function"===typeof c&&(c=!!c(t)),(null===t||void 0===t?void 0:t.skip)&&!(null===t||void 0===t?void 0:t.skip)!==!(null===(i=f.current.options)||void 0===i?void 0:i.skip)?(s({loading:!1,data:void 0,error:void 0,variables:null===t||void 0===t?void 0:t.variables}),v(null)):!1===c||r===f.current.client&&n===f.current.subscription&&(null===t||void 0===t?void 0:t.fetchPolicy)===(null===(o=f.current.options)||void 0===o?void 0:o.fetchPolicy)&&!(null===t||void 0===t?void 0:t.skip)===!(null===(a=f.current.options)||void 0===a?void 0:a.skip)&&(0,e.D)(null===t||void 0===t?void 0:t.variables,null===(l=f.current.options)||void 0===l?void 0:l.variables)||(s({loading:!0,data:void 0,error:void 0,variables:null===t||void 0===t?void 0:t.variables}),v(r.subscribe({query:n,variables:null===t||void 0===t?void 0:t.variables,fetchPolicy:null===t||void 0===t?void 0:t.fetchPolicy,context:null===t||void 0===t?void 0:t.context}))),Object.assign(f.current,{client:r,subscription:n,options:t})}),[r,n,t]),(0,i.useEffect)((function(){if(d){var n=d.subscribe({next:function(n){var i,e,o={loading:!1,data:n.data,error:void 0,variables:null===t||void 0===t?void 0:t.variables};s(o),null===(e=null===(i=f.current.options)||void 0===i?void 0:i.onSubscriptionData)||void 0===e||e.call(i,{client:r,subscriptionData:o})},error:function(n){s({loading:!1,data:void 0,error:n,variables:null===t||void 0===t?void 0:t.variables})},complete:function(){var n,t;null===(t=null===(n=f.current.options)||void 0===n?void 0:n.onSubscriptionComplete)||void 0===t||t.call(n)}});return function(){n.unsubscribe()}}}),[d]),c}}}]);
//# sourceMappingURL=444.ef77bc1b.chunk.js.map